import{u as z,r as o,A as B,a as I,j as e,e as b,b as N,c as $}from"./index-DLTgNBl2.js";import{N as U,e as Y,l as v,g as R,s as V}from"./Notification-CsVqrqKI.js";const Z="data:image/svg+xml,%3csvg%20width='18'%20height='20'%20viewBox='0%200%2018%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20d='M3.5%205.5C3.5%204.04131%204.07946%202.64236%205.11091%201.61091C6.14236%200.579463%207.54131%200%209%200C10.4587%200%2011.8576%200.579463%2012.8891%201.61091C13.9205%202.64236%2014.5%204.04131%2014.5%205.5C14.5%206.95869%2013.9205%208.35764%2012.8891%209.38909C11.8576%2010.4205%2010.4587%2011%209%2011C7.54131%2011%206.14236%2010.4205%205.11091%209.38909C4.07946%208.35764%203.5%206.95869%203.5%205.5ZM0%2017C0%2015.6739%200.526784%2014.4021%201.46447%2013.4645C2.40215%2012.5268%203.67392%2012%205%2012H13C14.3261%2012%2015.5979%2012.5268%2016.5355%2013.4645C17.4732%2014.4021%2018%2015.6739%2018%2017V20H0V17Z'%20fill='%23D9D9D9'/%3e%3c/svg%3e",O=()=>{z("Sign Up | SquareCraft");const{postPlugins:E,setUserState:y}=o.useContext(B),C=I(),[m,P]=o.useState(""),[x,D]=o.useState(""),[d,S]=o.useState(""),[u,F]=o.useState(""),[p,f]=o.useState(!1),[h,A]=o.useState(!1),[w,q]=o.useState(!1),[s,c]=o.useState({}),k=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,r=(t,i)=>{let l="";t==="name"&&(i||(l="Name is required.")),t==="email"&&(i?k.test(i)||(l="Please enter a valid email address."):l="Email is required."),t==="password"&&(i?i.length<8?l="Password must be at least 8 characters.":/[A-Z]/.test(i)?/\d/.test(i)?/[@$!%*?&]/.test(i)||(l="Password must contain at least one special character (@$!%*?&)."):l="Password must contain at least one number.":l="Password must contain at least one uppercase letter.":l="Password is required."),t==="confirmPassword"&&(i?i!==d&&(l="Passwords do not match."):l="Please confirm your password."),c(a=>({...a,[t]:l}))},_=async t=>{var i,l;if(t.preventDefault(),c({}),r("name",m),r("email",x),r("password",d),r("confirmPassword",u),!Object.values(s??{}).some(a=>a)){try{f(!0);const a=await N.post(`${$}/api/v1/register`,{name:m,email:x,password:d,confirmPassword:u},{withCredentials:!0}),n=(i=a==null?void 0:a.data)==null?void 0:i.squarCraft_auth_token;console.log(a),y((l=a==null?void 0:a.data)==null?void 0:l.user),localStorage.setItem("squarCraft_auth_token",n),sessionStorage.setItem("squarCraft_auth_token",n),N.defaults.headers.common.Authorization=`Bearer ${n}`,document.cookie=`squareCraft_auth_token=${n}; path=/;`,(a==null?void 0:a.status)===201&&C("/dashboard/myWebsites")}catch(a){c(n=>{var g,j;return{...n,submit:((j=(g=a==null?void 0:a.response)==null?void 0:g.data)==null?void 0:j.message)||"An error occurred."}})}finally{f(!1)}E()}};return e.jsx("div",{className:"w-full flex items-center justify-center mt-[6.5rem] xl:mt-[10rem] xl:px-4 sm:px-8",children:e.jsxs("div",{className:"max-w-[480px] w-full bg-white border-[#EDEDED] shadow-gray-100 shadow-md rounded-[10px] p-6 xl:p-12",children:[e.jsx("p",{className:"font-semibold text-[20px] xl:text-[28px]",children:"Sign Up Your Account"}),(s==null?void 0:s.submit)&&e.jsx(U,{message:s==null?void 0:s.submit,type:s,icon:"",className:"",onClose:()=>c(null)}),e.jsx("div",{className:"mt-6",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{children:["Name ",e.jsx("span",{className:"text-2xl text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",value:m,onChange:t=>{P(t.target.value),r("name",t.target.value)},className:"w-full rounded-lg mt-2 bg-[#FAFBFE] focus:outline-[#f7decd] border-[#EDEDED] pl-[38px] border py-3",placeholder:"Enter Your Name"}),e.jsx("img",{src:Z,className:"absolute top-[25px] left-3.5",alt:"",loading:"lazy",width:14})]}),(s==null?void 0:s.name)&&e.jsx("p",{className:"text-xs text-red-600",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{children:["Email ",e.jsx("span",{className:"text-2xl text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",value:x,onChange:t=>{D(t.target.value),r("email",t.target.value)},className:"w-full rounded-lg mt-2 bg-[#FAFBFE] focus:outline-[#f7decd] border-[#EDEDED] pl-[38px] border py-3",placeholder:"Enter Your Email"}),e.jsx("img",{src:Y,className:"absolute top-[26px] left-3.5",alt:"",loading:"lazy",width:16})]}),(s==null?void 0:s.email)&&e.jsx("p",{className:"text-xs text-red-600",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{children:["Password ",e.jsx("span",{className:"text-2xl text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:h?"text":"password",value:d,onChange:t=>{S(t.target.value),r("password",t.target.value)},className:"w-full rounded-lg mt-2 bg-[#FAFBFE] focus:outline-[#f7decd] border-[#EDEDED] pr-10 pl-[38px] border py-3",placeholder:"Enter Your Password"}),e.jsx("img",{src:v,className:"absolute top-[24px] left-3.5",alt:"",loading:"lazy",width:13}),e.jsx("div",{className:"absolute top-[25px] right-3.5 cursor-pointer",onClick:()=>A(!h),children:e.jsx("img",{src:b,alt:"Eye Icon",loading:"lazy",width:20})})]}),(s==null?void 0:s.password)&&e.jsx("p",{className:"text-xs text-red-600",children:s==null?void 0:s.password})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{children:["Confirm Password ",e.jsx("span",{className:"text-2xl text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:w?"text":"password",value:u,onChange:t=>{F(t.target.value),r("confirmPassword",t.target.value)},className:"w-full rounded-lg mt-2 bg-[#FAFBFE] focus:outline-[#f7decd] border-[#EDEDED] pr-10 pl-[38px] border py-3",placeholder:"Confirm Your Password"}),e.jsx("img",{src:v,className:"absolute top-[24px] left-3.5",alt:"",loading:"lazy",width:13}),e.jsx("div",{className:"absolute top-[25px] right-3.5 cursor-pointer",onClick:()=>q(!w),children:e.jsx("img",{src:b,alt:"Eye Icon",loading:"lazy",width:20})})]}),(s==null?void 0:s.confirmPassword)&&e.jsx("p",{className:"text-xs text-red-600",children:s==null?void 0:s.confirmPassword})]}),e.jsx("button",{type:"submit",className:"w-full mt-6 text-center block bg-jaffa-400 py-3 rounded-[10px] font-semibold",disabled:p,children:p?"Signing Up...":"Sign Up"}),e.jsxs("div",{className:"flex flex-nowrap items-end mt-6 gap-2 w-full",children:[e.jsx("p",{className:"text-xs text-nowrap text-gray-400",children:"Or Continue With"}),e.jsx("div",{className:"w-full border-gray-200 border-dotted border-b"})]}),e.jsxs("div",{className:"mt-6 flex flex-col xl:flex-row items-center justify-between gap-3 w-full",children:[e.jsxs("div",{className:"bg-[#FAFBFE] hover:bg-[#f3f4f8] transition-all duration-300 cursor-pointer border w-full rounded-md py-4 justify-center flex items-center gap-2 border-[#EDEDED]",children:[e.jsx("img",{src:R,alt:"",loading:"lazy",width:25}),e.jsx("p",{className:"text-[16px] font-semibold",children:"Google"})]}),e.jsxs("div",{className:"bg-[#FAFBFE] hover:bg-[#f3f4f8] transition-all duration-300 cursor-pointer border w-full rounded-md py-4 justify-center flex items-center gap-2 border-[#EDEDED]",children:[e.jsx("img",{src:V,alt:"",loading:"lazy",width:25}),e.jsx("p",{className:"text-[16px] font-semibold",children:"Squarespace"})]})]})]})})]})})};export{O as default};
